<Window x:Class="SysPilot.Controls.CustomDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:SysPilot"
        Title="Dialog"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        SizeToContent="WidthAndHeight"
        MinWidth="320"
        MaxWidth="450">

    <Border Background="#252525"
            CornerRadius="12"
            Padding="24"
            Margin="20">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.5"/>
        </Border.Effect>

        <StackPanel>
            <!-- Title -->
            <TextBlock x:Name="TitleText"
                       Text="Title"
                       Foreground="#E0E0E0"
                       FontSize="16"
                       FontWeight="SemiBold"
                       Margin="0,0,0,16"/>

            <!-- Message -->
            <TextBlock x:Name="MessageText"
                       Text="Message"
                       Foreground="#B0B0B0"
                       FontSize="13"
                       TextWrapping="Wrap"
                       MaxWidth="380"
                       Margin="0,0,0,24"/>

            <!-- Rich Content (alternative to MessageText) -->
            <ContentPresenter x:Name="RichContent"
                              Visibility="Collapsed"
                              Margin="0,0,0,24"/>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button x:Name="SecondaryButton"
                        Content="{x:Static local:Lang.Cancel}"
                        Background="#353535"
                        Foreground="#E0E0E0"
                        BorderThickness="0"
                        Padding="20,10"
                        Margin="0,0,8,0"
                        Cursor="Hand"
                        Click="SecondaryButton_Click"
                        Visibility="Collapsed">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="#454545"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button x:Name="PrimaryButton"
                        Content="{x:Static local:Lang.OK}"
                        Background="#007ACC"
                        Foreground="#FFFFFF"
                        BorderThickness="0"
                        Padding="20,10"
                        Cursor="Hand"
                        Click="PrimaryButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="#1E8AD2"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
